(self.webpackChunk=self.webpackChunk||[]).push([[311],{94152:function(K,A,s){"use strict";s.r(A),s.d(A,{default:function(){return Se}});var F={};s.r(F),s.d(F,{addUser:function(){return ne},deleteUser:function(){return ue},getUserDetail:function(){return ae},modifyUser:function(){return te},queryUserList:function(){return se}});var w=s(21071),g=s.n(w),b=s(70920),n=s.n(b),ee=s(17934),f=s.n(ee),re=s(23538),h=s.n(re),S=s(51964);function se(i,e){return R.apply(this,arguments)}function R(){return R=h()(n()().mark(function i(e,t){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,S.request)("/api/v1/queryUserList",f()({method:"GET",params:f()({},e)},t||{})));case 1:case"end":return l.stop()}},i)})),R.apply(this,arguments)}function ne(i,e){return B.apply(this,arguments)}function B(){return B=h()(n()().mark(function i(e,t){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,S.request)("/api/v1/user",f()({method:"POST",headers:{"Content-Type":"application/json"},data:e},t||{})));case 1:case"end":return l.stop()}},i)})),B.apply(this,arguments)}function ae(i,e){return $.apply(this,arguments)}function $(){return $=h()(n()().mark(function i(e,t){var u;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=e.userId,r.abrupt("return",(0,S.request)("/api/v1/user/".concat(u),f()({method:"GET",params:f()({},e)},t||{})));case 2:case"end":return r.stop()}},i)})),$.apply(this,arguments)}function te(i,e,t){return L.apply(this,arguments)}function L(){return L=h()(n()().mark(function i(e,t,u){var l;return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return l=e.userId,d.abrupt("return",(0,S.request)("/api/v1/user/".concat(l),f()({method:"PUT",headers:{"Content-Type":"application/json"},params:f()({},e),data:t},u||{})));case 2:case"end":return d.stop()}},i)})),L.apply(this,arguments)}function ue(i,e){return D.apply(this,arguments)}function D(){return D=h()(n()().mark(function i(e,t){var u;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=e.userId,r.abrupt("return",(0,S.request)("/api/v1/user/".concat(u),f()({method:"DELETE",params:f()({},e)},t||{})));case 2:case"end":return r.stop()}},i)})),D.apply(this,arguments)}var le={UserController:F},W=s(69149),Y=s(78075),ie=s(59365),y=s(66402),de=s(53191),P=s(35809),oe=s(55110),U=s(77617),H=s(81396),a=s(32648),ce=function(e){var t=e.modalVisible,u=e.onCancel;return(0,a.jsx)(H.Z,{destroyOnClose:!0,title:"\u65B0\u5EFA",width:420,visible:t,onCancel:function(){return u()},footer:null,children:e.children})},je=ce,z=s(63208),me=s(59285),he=s(64660),V=s(3625),fe=s(74174),ve=s(21536),pe=function(e){return(0,a.jsxs)(z.L,{stepsProps:{size:"small"},stepsFormRender:function(u,l){return(0,a.jsx)(H.Z,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u89C4\u5219\u914D\u7F6E",visible:e.updateModalVisible,footer:l,onCancel:function(){return e.onCancel()},children:u})},onFinish:e.onSubmit,children:[(0,a.jsxs)(z.L.StepForm,{initialValues:{name:e.values.name,nickName:e.values.nickName},title:"\u57FA\u672C\u4FE1\u606F",children:[(0,a.jsx)(me.Z,{width:"md",name:"name",label:"\u89C4\u5219\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C4\u5219\u540D\u79F0\uFF01"}]}),(0,a.jsx)(he.Z,{name:"desc",width:"md",label:"\u89C4\u5219\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u89C4\u5219\u63CF\u8FF0\uFF01",min:5}]})]}),(0,a.jsxs)(z.L.StepForm,{initialValues:{target:"0",template:"0"},title:"\u914D\u7F6E\u89C4\u5219\u5C5E\u6027",children:[(0,a.jsx)(V.Z,{width:"md",name:"target",label:"\u76D1\u63A7\u5BF9\u8C61",valueEnum:{0:"\u8868\u4E00",1:"\u8868\u4E8C"}}),(0,a.jsx)(V.Z,{width:"md",name:"template",label:"\u89C4\u5219\u6A21\u677F",valueEnum:{0:"\u89C4\u5219\u6A21\u677F\u4E00",1:"\u89C4\u5219\u6A21\u677F\u4E8C"}}),(0,a.jsx)(fe.Z.Group,{name:"type",width:"md",label:"\u89C4\u5219\u7C7B\u578B",options:[{value:"0",label:"\u5F3A"},{value:"1",label:"\u5F31"}]})]}),(0,a.jsxs)(z.L.StepForm,{initialValues:{type:"1",frequency:"month"},title:"\u8BBE\u5B9A\u8C03\u5EA6\u5468\u671F",children:[(0,a.jsx)(ve.Z,{name:"time",label:"\u5F00\u59CB\u65F6\u95F4",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F00\u59CB\u65F6\u95F4\uFF01"}]}),(0,a.jsx)(V.Z,{name:"frequency",label:"\u76D1\u63A7\u5BF9\u8C61",width:"xs",valueEnum:{month:"\u6708",week:"\u5468"}})]})]})},ye=pe,T=le.UserController,ge=T.addUser,be=T.queryUserList,Ce=T.deleteUser,Fe=T.modifyUser,we=function(){var i=h()(n()().mark(function e(t){var u;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=y.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,ge(f()({},t));case 4:return u(),y.ZP.success("\u6DFB\u52A0\u6210\u529F"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),u(),y.ZP.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 14:case"end":return r.stop()}},e,null,[[1,9]])}));return function(t){return i.apply(this,arguments)}}(),Ue=function(){var i=h()(n()().mark(function e(t){var u;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return u=y.ZP.loading("\u6B63\u5728\u914D\u7F6E"),r.prev=1,r.next=4,Fe({userId:t.id||""},{name:t.name||"",nickName:t.nickName||"",email:t.email||""});case 4:return u(),y.ZP.success("\u914D\u7F6E\u6210\u529F"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),u(),y.ZP.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 14:case"end":return r.stop()}},e,null,[[1,9]])}));return function(t){return i.apply(this,arguments)}}(),ke=function(){var i=h()(n()().mark(function e(t){var u,l;return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(u=y.ZP.loading("\u6B63\u5728\u5220\u9664"),t){d.next=3;break}return d.abrupt("return",!0);case 3:return d.prev=3,d.next=6,Ce({userId:((l=t.find(function(I){return I.id}))===null||l===void 0?void 0:l.id)||""});case 6:return u(),y.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"),d.abrupt("return",!0);case 11:return d.prev=11,d.t0=d.catch(3),u(),y.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),d.abrupt("return",!1);case 16:case"end":return d.stop()}},e,null,[[3,11]])}));return function(t){return i.apply(this,arguments)}}(),xe=function(){var e=(0,U.useState)(!1),t=g()(e,2),u=t[0],l=t[1],r=(0,U.useState)(!1),d=g()(r,2),I=d[0],M=d[1],Ee=(0,U.useState)({}),J=g()(Ee,2),O=J[0],N=J[1],k=(0,U.useRef)(),ze=(0,U.useState)(),Q=g()(ze,2),v=Q[0],Te=Q[1],Ze=(0,U.useState)([]),X=g()(Ze,2),E=X[0],q=X[1],G=[{title:"\u540D\u79F0",dataIndex:"name",tip:"\u540D\u79F0\u662F\u552F\u4E00\u7684 key",formItemProps:{rules:[{required:!0,message:"\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u6635\u79F0",dataIndex:"nickName",valueType:"text"},{title:"\u6027\u522B",dataIndex:"gender",hideInForm:!0,valueEnum:{0:{text:"\u7537",status:"MALE"},1:{text:"\u5973",status:"FEMALE"}}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(c,o){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{onClick:function(){M(!0),N(o)},children:"\u914D\u7F6E"}),(0,a.jsx)(de.Z,{type:"vertical"}),(0,a.jsx)("a",{href:"",children:"\u8BA2\u9605\u8B66\u62A5"})]})}}];return(0,a.jsxs)(W._z,{header:{title:"CRUD \u793A\u4F8B"},children:[(0,a.jsx)(Y.Z,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:k,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,a.jsx)(P.Z,{type:"primary",onClick:function(){return l(!0)},children:"\u65B0\u5EFA"},"1")]},request:function(){var j=h()(n()().mark(function c(o,p,C){var m,Z,_;return n()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,be(f()(f()({},o),{},{sorter:p,filter:C}));case 2:return m=x.sent,Z=m.data,_=m.success,x.abrupt("return",{data:(Z==null?void 0:Z.list)||[],success:_});case 6:case"end":return x.stop()}},c)}));return function(c,o,p){return j.apply(this,arguments)}}(),columns:G,rowSelection:{onChange:function(c,o){return q(o)}}}),(E==null?void 0:E.length)>0&&(0,a.jsxs)(W.Sc,{extra:(0,a.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,a.jsx)("a",{style:{fontWeight:600},children:E.length})," ","\u9879\xA0\xA0"]}),children:[(0,a.jsx)(P.Z,{onClick:h()(n()().mark(function j(){var c,o;return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,ke(E);case 2:q([]),(c=k.current)===null||c===void 0||(o=c.reloadAndRest)===null||o===void 0||o.call(c);case 4:case"end":return C.stop()}},j)})),children:"\u6279\u91CF\u5220\u9664"}),(0,a.jsx)(P.Z,{type:"primary",children:"\u6279\u91CF\u5BA1\u6279"})]}),(0,a.jsx)(je,{onCancel:function(){return l(!1)},modalVisible:u,children:(0,a.jsx)(Y.Z,{onSubmit:function(){var j=h()(n()().mark(function c(o){var p;return n()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,we(o);case 2:p=m.sent,p&&(l(!1),k.current&&k.current.reload());case 4:case"end":return m.stop()}},c)}));return function(c){return j.apply(this,arguments)}}(),rowKey:"id",type:"form",columns:G})}),O&&Object.keys(O).length?(0,a.jsx)(ye,{onSubmit:function(){var j=h()(n()().mark(function c(o){var p;return n()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Ue(o);case 2:p=m.sent,p&&(M(!1),N({}),k.current&&k.current.reload());case 4:case"end":return m.stop()}},c)}));return function(c){return j.apply(this,arguments)}}(),onCancel:function(){M(!1),N({})},updateModalVisible:I,values:O}):null,(0,a.jsx)(oe.Z,{width:600,visible:!!v,onClose:function(){Te(void 0)},closable:!1,children:(v==null?void 0:v.name)&&(0,a.jsx)(ie.vY,{column:2,title:v==null?void 0:v.name,request:h()(n()().mark(function j(){return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",{data:v||{}});case 1:case"end":return o.stop()}},j)})),params:{id:v==null?void 0:v.name},columns:G})})]})},Se=xe},8583:function(K,A,s){var F={"./af":67597,"./af.js":67597,"./ar":71775,"./ar-dz":92677,"./ar-dz.js":92677,"./ar-kw":39793,"./ar-kw.js":39793,"./ar-ly":22214,"./ar-ly.js":22214,"./ar-ma":22659,"./ar-ma.js":22659,"./ar-sa":10614,"./ar-sa.js":10614,"./ar-tn":1451,"./ar-tn.js":1451,"./ar.js":71775,"./az":29326,"./az.js":29326,"./be":25197,"./be.js":25197,"./bg":61390,"./bg.js":61390,"./bm":85930,"./bm.js":85930,"./bn":44792,"./bn-bd":94706,"./bn-bd.js":94706,"./bn.js":44792,"./bo":42840,"./bo.js":42840,"./br":53016,"./br.js":53016,"./bs":6511,"./bs.js":6511,"./ca":43605,"./ca.js":43605,"./cs":46014,"./cs.js":46014,"./cv":20223,"./cv.js":20223,"./cy":86127,"./cy.js":86127,"./da":87448,"./da.js":87448,"./de":80562,"./de-at":93921,"./de-at.js":93921,"./de-ch":56054,"./de-ch.js":56054,"./de.js":80562,"./dv":73483,"./dv.js":73483,"./el":84442,"./el.js":84442,"./en-au":57320,"./en-au.js":57320,"./en-ca":34394,"./en-ca.js":34394,"./en-gb":54391,"./en-gb.js":54391,"./en-ie":81119,"./en-ie.js":81119,"./en-il":8913,"./en-il.js":8913,"./en-in":39106,"./en-in.js":39106,"./en-nz":99062,"./en-nz.js":99062,"./en-sg":41062,"./en-sg.js":41062,"./eo":16418,"./eo.js":16418,"./es":47359,"./es-do":11247,"./es-do.js":11247,"./es-mx":51779,"./es-mx.js":51779,"./es-us":45374,"./es-us.js":45374,"./es.js":47359,"./et":88683,"./et.js":88683,"./eu":67681,"./eu.js":67681,"./fa":88444,"./fa.js":88444,"./fi":3650,"./fi.js":3650,"./fil":69537,"./fil.js":69537,"./fo":91242,"./fo.js":91242,"./fr":7553,"./fr-ca":29763,"./fr-ca.js":29763,"./fr-ch":51e3,"./fr-ch.js":51e3,"./fr.js":7553,"./fy":41104,"./fy.js":41104,"./ga":85588,"./ga.js":85588,"./gd":87782,"./gd.js":87782,"./gl":97023,"./gl.js":97023,"./gom-deva":63962,"./gom-deva.js":63962,"./gom-latn":17102,"./gom-latn.js":17102,"./gu":63193,"./gu.js":63193,"./he":34401,"./he.js":34401,"./hi":60653,"./hi.js":60653,"./hr":84905,"./hr.js":84905,"./hu":2319,"./hu.js":2319,"./hy-am":13366,"./hy-am.js":13366,"./id":43636,"./id.js":43636,"./is":61176,"./is.js":61176,"./it":74595,"./it-ch":34426,"./it-ch.js":34426,"./it.js":74595,"./ja":13724,"./ja.js":13724,"./jv":28927,"./jv.js":28927,"./ka":42643,"./ka.js":42643,"./kk":5706,"./kk.js":5706,"./km":6713,"./km.js":6713,"./kn":19025,"./kn.js":19025,"./ko":27631,"./ko.js":27631,"./ku":90019,"./ku.js":90019,"./ky":84349,"./ky.js":84349,"./lb":65017,"./lb.js":65017,"./lo":51609,"./lo.js":51609,"./lt":95705,"./lt.js":95705,"./lv":68886,"./lv.js":68886,"./me":2028,"./me.js":2028,"./mi":94575,"./mi.js":94575,"./mk":14990,"./mk.js":14990,"./ml":64407,"./ml.js":64407,"./mn":85497,"./mn.js":85497,"./mr":57740,"./mr.js":57740,"./ms":15752,"./ms-my":20445,"./ms-my.js":20445,"./ms.js":15752,"./mt":905,"./mt.js":905,"./my":30863,"./my.js":30863,"./nb":49396,"./nb.js":49396,"./ne":95464,"./ne.js":95464,"./nl":73183,"./nl-be":38467,"./nl-be.js":38467,"./nl.js":73183,"./nn":73195,"./nn.js":73195,"./oc-lnc":10146,"./oc-lnc.js":10146,"./pa-in":41578,"./pa-in.js":41578,"./pl":23862,"./pl.js":23862,"./pt":81147,"./pt-br":19472,"./pt-br.js":19472,"./pt.js":81147,"./ro":10692,"./ro.js":10692,"./ru":97498,"./ru.js":97498,"./sd":76821,"./sd.js":76821,"./se":82512,"./se.js":82512,"./si":98309,"./si.js":98309,"./sk":31782,"./sk.js":31782,"./sl":48861,"./sl.js":48861,"./sq":46186,"./sq.js":46186,"./sr":64209,"./sr-cyrl":25954,"./sr-cyrl.js":25954,"./sr.js":64209,"./ss":3210,"./ss.js":3210,"./sv":75440,"./sv.js":75440,"./sw":2416,"./sw.js":2416,"./ta":74500,"./ta.js":74500,"./te":99823,"./te.js":99823,"./tet":19994,"./tet.js":19994,"./tg":89397,"./tg.js":89397,"./th":92524,"./th.js":92524,"./tk":39548,"./tk.js":39548,"./tl-ph":95414,"./tl-ph.js":95414,"./tlh":49005,"./tlh.js":49005,"./tr":42958,"./tr.js":42958,"./tzl":41426,"./tzl.js":41426,"./tzm":97844,"./tzm-latn":93264,"./tzm-latn.js":93264,"./tzm.js":97844,"./ug-cn":24423,"./ug-cn.js":24423,"./uk":5008,"./uk.js":5008,"./ur":26680,"./ur.js":26680,"./uz":75454,"./uz-latn":18365,"./uz-latn.js":18365,"./uz.js":75454,"./vi":30217,"./vi.js":30217,"./x-pseudo":90818,"./x-pseudo.js":90818,"./yo":84817,"./yo.js":84817,"./zh-cn":56582,"./zh-cn.js":56582,"./zh-hk":47064,"./zh-hk.js":47064,"./zh-mo":2397,"./zh-mo.js":2397,"./zh-tw":41430,"./zh-tw.js":41430};function w(b){var n=g(b);return s(n)}function g(b){if(!s.o(F,b)){var n=new Error("Cannot find module '"+b+"'");throw n.code="MODULE_NOT_FOUND",n}return F[b]}w.keys=function(){return Object.keys(F)},w.resolve=g,K.exports=w,w.id=8583}}]);
